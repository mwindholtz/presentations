<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0044)http://junit.sourceforge.net/doc/faq/faq.htm -->
<HTML><HEAD><TITLE>JUnit FAQ</TITLE>
<META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<META content="MSHTML 6.00.2800.1276" name=GENERATOR></HEAD>
<BODY>
<H1><FONT color=#33ff33>J</FONT><FONT color=#cc0000>U</FONT>nit FAQ</H1>
<P></P>
<P></P>
<HR SIZE=1>
<!--	Summary--><I>
<P>JUnit is an open source Java testing framework used to write and run 
repeatable tests. 
<P>It is an instance of the xUnit architecture for unit testing frameworks. </I>
<HR SIZE=1>

<P>Maintained by:<BR><A href="mailto:mike@clarkware.com">Mike Clark</A><BR><A 
href="http://www.clarkware.com/">Clarkware Consulting, Inc.</A> </P>
<P>Last modified on April 22, 2003 </P>
<HR>
<BR><!-- 	Table Of Contents 	-->
<TABLE cellSpacing=0 cellPadding=2 width="100%" bgColor=#33ff33 border=0>
  <TBODY>
  <TR>
    <TD><B><FONT color=#000000 size=+1><A name=toc>Table of Contents:</A> 
      </FONT></B></TD></TR></TBODY></TABLE>
<OL>
  <LI><B><A href="http://junit.sourceforge.net/doc/faq/faq.htm#faqinfo">FAQ 
  Info:</A></B> 
  <OL>
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#faqinfo_1">Who is 
    responsible for this FAQ?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#faqinfo_2">How can 
    I contribute to this FAQ?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#faqinfo_3">Where 
    do I get the latest version of this FAQ?</A> </LI></OL>
  <P></P>
  <LI><B><A 
  href="http://junit.sourceforge.net/doc/faq/faq.htm#overview">Overview:</A></B> 

  <OL>
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#overview_1">What 
    is JUnit?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#overview_2">Where 
    is the JUnit home page?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#overview_3">Where 
    are the JUnit mailing lists and forums?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#overview_4">Where 
    is the JUnit documentation?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#overview_5">Where 
    can I find articles on JUnit?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#overview_6">What's 
    the latest news on JUnit?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#overview_7">How is 
    JUnit licensed?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#overview_8">What 
    awards has JUnit won?</A> </LI></OL>
  <P></P>
  <LI><B><A href="http://junit.sourceforge.net/doc/faq/faq.htm#started">Getting 
  Started:</A></B> 
  <OL>
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#started_1">Where 
    do I download JUnit?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#started_2">How do 
    I install JUnit?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#started_3">How do 
    I uninstall JUnit?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#started_4">How do 
    I ask questions?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#started_5">How do 
    I submit bugs, patches, or feature requests?</A> </LI></OL>
  <P></P>
  <LI><B><A href="http://junit.sourceforge.net/doc/faq/faq.htm#tests">Writing 
  Tests:</A></B> 
  <OL>
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#tests_1">How do I 
    write and run a simple test?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#tests_2">How do I 
    use a test fixture?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#tests_3">Why isn't 
    my test fixture being run?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#tests_4">How do I 
    test a method that doesn't return anything?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#tests_5">Under 
    what conditions should I test get() and set() methods?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#tests_6">Under 
    what conditions should I not test get() and set() methods?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#tests_7">How do I 
    write a test that passes when an expected exception is thrown?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#tests_8">How do I 
    write a test that fails when an unexpected exception is thrown?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#tests_9">What's 
    the difference between a failure and an error?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#tests_10">How do I 
    test protected methods?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#tests_11">How do I 
    test private methods?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#tests_12">Why does 
    JUnit only report the first failure in a single test?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#tests_13">In Java 
    1.4, 'assert' is a keyword. Won't this conflict with JUnit's assert() 
    method?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#tests_14">How do I 
    test things that must be run in a J2EE container (e.g. servlets, EJBs)?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#tests_15">Do I 
    need to write a TestCase class for every class I need to test?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#tests_16">Is there 
    a basic template I can use to create a test?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#tests_17">How do I 
    write a test for an abstract class?</A> </LI></OL>
  <P></P>
  <LI><B><A 
  href="http://junit.sourceforge.net/doc/faq/faq.htm#organize">Organizing 
  Tests:</A></B> 
  <OL>
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#organize_1">Where 
    should I put my test files?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#organize_2">How do 
    I write a test suite for all of my tests?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#organize_3">How 
    can I run setUp() and tearDown() code once for all of my tests?</A> </LI></OL>
  <P></P>
  <LI><B><A href="http://junit.sourceforge.net/doc/faq/faq.htm#running">Running 
  Tests:</A></B> 
  <OL>
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#running_1">What 
    CLASSPATH settings are needed to run JUnit?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#running_2">Why do 
    I get a NoClassDefFoundError when trying to test JUnit or run the 
    samples?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#running_3">How do 
    I run the JUnit GUI test runner?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#running_4">How do 
    I run JUnit from my command window?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#running_5">How do 
    I run JUnit using Ant?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#running_6">How do 
    I use Ant to create HTML test reports?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#running_7">How do 
    I pass command-line arguments to a test execution?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#running_8">Why do 
    I get an error (ClassCastException or LinkageError) using the GUI 
    TestRunners?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#running_9">Why do 
    I get a LinkageError when using XML interfaces in my TestCase?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#running_10">Why do 
    I get a ClassCastException when I use narrow() in an EJB client 
    TestCase?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#running_11">Why do 
    I get the warning "AssertionFailedError: No tests found in XXX" when I run 
    my test?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#running_12">Why do 
    I see "Unknown Source" in the stack trace of a test failure, rather than the 
    source file's line number?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#running_13">Why 
    does the "excluded.properties" trick not work when running JUnit's GUI from 
    inside my favorite IDE?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#running_14">How do 
    I get one test suite to invoke another?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#running_15">How do 
    I organize all test classes in a TestSuite automatically and not use or 
    manage a TestSuite explicitly?</A> </LI></OL>
  <P></P>
  <LI><B><A href="http://junit.sourceforge.net/doc/faq/faq.htm#best">Best 
  Practices:</A></B> 
  <OL>
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#best_1">When 
    should tests be written?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#best_2">Do I have 
    to write a test for everything?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#best_3">How simple 
    is 'too simple to break'?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#best_4">How often 
    should I run my tests?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#best_5">What do I 
    do when a defect is reported?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#best_6">Why not 
    just use System.out.println()?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#best_7">Why not 
    just use a debugger?</A> </LI></OL>
  <P></P>
  <LI><B><A href="http://junit.sourceforge.net/doc/faq/faq.htm#extend">Extending 
  JUnit:</A></B> 
  <OL>
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#extend_1">How do I 
    extend JUnit?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#extend_2">What 
    kinds of extensions are available?</A> </LI></OL>
  <P></P>
  <LI><B><A 
  href="http://junit.sourceforge.net/doc/faq/faq.htm#misc">Miscellaneous:</A></B> 

  <OL>
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#misc_1">How do I 
    integrate JUnit with my IDE?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#misc_2">How do I 
    launch a debugger when a test fails?</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#misc_3">Where can 
    I find unit testing frameworks similar to JUnit for other languages?</A> 
    </LI></OL></LI></OL><!--	FAQ Info-->
<TABLE cellSpacing=0 cellPadding=2 width="100%" bgColor=#33ff33 border=0>
  <TBODY>
  <TR>
    <TD align=left width="90%"><A name=faqinfo><B><FONT size=+1>FAQ 
      Info:</FONT></B></A> </TD>
    <TD align=right><A 
      href="http://junit.sourceforge.net/doc/faq/faq.htm#toc">top</A> 
  </TD></TR></TBODY></TABLE>
<OL>
  <LI><B><A name=faqinfo_1>Who is responsible for this FAQ?</A></B> 
  <P>The current version of this FAQ is maintained by <A 
  href="mailto:mike@clarkware.com">Mike Clark</A>. 
  <P>Most of the wisdom contained in this FAQ comes from the collective insights 
  and hard-won experiences of the many good folks who participate on the JUnit 
  mailing list and the JUnit community at large. 
  <P>If you see your genius represented anywhere in this FAQ without due credit 
  to you, please send me an email and I'll make things right. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=faqinfo_2>How can I contribute to this FAQ?</A></B> 
  <P>Your contributions to this FAQ are greatly appreciated! The JUnit community 
  thanks you in advance. 
  <P>To contribute to this FAQ, simply write a JUnit-related question and 
  answer, then send the unformatted text to <A 
  href="mailto:mike@clarkware.com">Mike Clark</A>. Corrections to this FAQ are 
  always appreciated, as well. 
  <P>No reasonable contribution will be denied. Your name will always appear 
  along with any contribution you make. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=faqinfo_3>Where do I get the latest version of this 
  FAQ?</A></B> 
  <P>The master copy of this FAQ is available at <A 
  href="http://junit.sourceforge.net/doc/faq/faq.htm">http://junit.sourceforge.net/doc/faq/faq.htm</A>. 

  <P>The entries in this FAQ are also documented in the <A 
  href="http://www.jguru.com/faq/JUnit">jGuru FAQ</A>. 
  <P>The JUnit distribution also includes this FAQ in the <CODE>doc</CODE> 
  directory. 
  <P></P>
  <HR SIZE=1>
  </LI></OL><!--	Overview-->
<TABLE cellSpacing=0 cellPadding=2 width="100%" bgColor=#33ff33 border=0>
  <TBODY>
  <TR>
    <TD align=left width="90%"><A name=overview><B><FONT 
      size=+1>Overview:</FONT></B></A> </TD>
    <TD align=right><A 
      href="http://junit.sourceforge.net/doc/faq/faq.htm#toc">top</A> 
  </TD></TR></TBODY></TABLE>
<OL>
  <LI><B><A name=overview_1>What is JUnit?</A></B> 
  <P>JUnit is an open source Java testing framework used to write and run 
  repeatable tests. It is an instance of the xUnit architecture for unit testing 
  frameworks. 
  <P>JUnit features include: 
  <UL>
    <LI>Assertions for testing expected results 
    <LI>Test fixtures for sharing common test data 
    <LI>Test suites for easily organizing and running tests 
    <LI>Graphical and textual test runners </LI></UL>
  <P>JUnit was originally written by Erich Gamma and Kent Beck. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=overview_2>Where is the JUnit home page?</A></B> 
  <P>The official JUnit home page is <A 
  href="http://junit.org/">http://junit.org/</A>. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=overview_3>Where are the JUnit mailing lists and 
  forums?</A></B> 
  <P>There are 3 mailing lists dedicated to everything JUnit: 
  <UL>
    <LI><A 
    href="http://lists.sourceforge.net/lists/listinfo/junit-announce">JUnit 
    announcements</A> 
    <LI><A href="http://groups.yahoo.com/group/junit/">JUnit user list</A> 
    <LI><A href="http://lists.sourceforge.net/lists/listinfo/junit-devel">JUnit 
    developer list</A> </LI></UL>
  <P>You can <A href="http://groups.yahoo.com/group/junit/">search</A> the JUnit 
  user list archives for answers to frequently asked questions not included 
  here. 
  <P>There is also a <A 
  href="http://www.jguru.com/forums/home.jsp?topic=JUnit">jGuru discussion 
  forum</A> dedicated to everything JUnit. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=overview_4>Where is the JUnit documentation?</A></B> 
  <P>The following documents are included in the JUnit distribution in the 
  <CODE>doc</CODE> directory: 
  <UL>
    <LI><A 
    href="http://junit.sourceforge.net/doc/testinfected/testing.htm">JUnit Test 
    Infected: Programmers Love Writing Tests</A> 
    <LI><A href="http://junit.sourceforge.net/doc/cookbook/cookbook.htm">JUnit 
    Cookbook</A> 
    <LI><A href="http://junit.sourceforge.net/doc/cookstour/cookstour.htm">JUnit 
    - A Cook's Tour</A> 
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm">JUnit FAQ</A> 
    </LI></UL>
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=overview_5>Where can I find articles on JUnit?</A></B> 
  <P>The JUnit home page maintains a list of <A 
  href="http://www.junit.org/news/article/index.htm">JUnit articles</A>. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=overview_6>What's the latest news on JUnit?</A></B> 
  <P>The JUnit home page publishes the <A 
  href="http://www.junit.org/news/index.htm">latest JUnit news</A>. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=overview_7>How is JUnit licensed?</A></B> 
  <P>JUnit is <A href="http://www.opensource.org/">Open Source Software</A>, 
  released under <A 
  href="http://oss.software.ibm.com/developerworks/oss/license-cpl.html">IBM's 
  Common Public License Version 0.5</A> and hosted on <A 
  href="http://sourceforge.net/projects/junit/">SourceForge</A>. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=overview_8>What awards has JUnit won?</A></B> 
  <P>
  <UL>
    <LI><A 
    href="http://www.javaworld.com/javaworld/jw-03-2002/jw-0326-awards.html">2002 
    JavaWorld Editors' Choice Awards (ECA)</A> 
    <P>Best Java Performance Monitoring/Testing Tool </P>
    <LI><A 
    href="http://www.javaworld.com/javaworld/jw-06-2001/j1-01-awards.html">2001 
    JavaWorld Editors' Choice Awards (ECA)</A> 
    <P>Best Java Performance Monitoring/Testing Tool </P></LI></UL>
  <P></P>
  <HR SIZE=1>
  </LI></OL><!--	Getting Started-->
<TABLE cellSpacing=0 cellPadding=2 width="100%" bgColor=#33ff33 border=0>
  <TBODY>
  <TR>
    <TD align=left width="90%"><A name=started><B><FONT size=+1>Getting 
      Started:</FONT></B></A> </TD>
    <TD align=right><A 
      href="http://junit.sourceforge.net/doc/faq/faq.htm#toc">top</A> 
  </TD></TR></TBODY></TABLE>
<OL>
  <LI><B><A name=started_1>Where do I download JUnit?</A></B> 
  <P>The latest version of JUnit is available at <A 
  href="http://download.sourceforge.net/junit/">http://download.sourceforge.net/junit/</A>. 

  <P></P>
  <HR SIZE=1>

  <LI><B><A name=started_2>How do I install JUnit?</A></B> 
  <P>
  <OL>
    <LI>First, <A href="http://download.sourceforge.net/junit/">download</A> the 
    latest version of JUnit, referred to below as <CODE>junit.zip</CODE>. 
    <BR><BR>
    <LI>Then install JUnit on your platform of choice: 
    <P><U>Windows</U> 
    <P>To install JUnit on Windows, follow these steps: 
    <P>
    <OL>
      <LI>Unzip the <CODE>junit.zip</CODE> distribution file to a directory 
      referred to as <CODE>%JUNIT_HOME%</CODE>. 
      <P></P>
      <LI>Add JUnit to the classpath: 
      <P><CODE>set CLASSPATH=%CLASSPATH%;%JUNIT_HOME%\junit.jar</CODE> 
    </P></LI></OL>
    <P><U>Unix (bash)</U> 
    <P>To install JUnit on Unix, follow these steps: 
    <P>
    <OL>
      <LI>Unzip the <CODE>junit.zip</CODE> distribution file to a directory 
      referred to as <CODE>$JUNIT_HOME</CODE>. 
      <P></P>
      <LI>Add JUnit to the classpath: 
      <P><CODE>export CLASSPATH=$CLASSPATH:$JUNIT_HOME/junit.jar</CODE> 
    </P></LI></OL><BR>
    <LI><I>(Optional)</I> Unzip the <CODE>$JUNIT_HOME/src.jar</CODE> file. 
    <BR><BR>
    <LI>Test the installation by using either the textual or graphical test 
    runner to run the sample tests distributed with JUnit. 
    <P><I>Note: The sample tests are not contained in the 
    <CODE>junit.jar</CODE>, but in the installation directory directly. 
    Therefore, make sure that the JUnit installation directory is in the 
    CLASSPATH.</I> 
    <P>For the textual TestRunner, type: 
    <P>
    <BLOCKQUOTE><PRE>java junit.textui.TestRunner junit.samples.AllTests 
</PRE></BLOCKQUOTE>
    <P>For the graphical TestRunner, type: 
    <P>
    <BLOCKQUOTE><PRE>java junit.swingui.TestRunner junit.samples.AllTests 
</PRE></BLOCKQUOTE>
    <P>All the tests should pass with an "OK" (textual) or a green bar 
    (graphical). 
    <P>If the tests don't pass, verify that <CODE>junit.jar</CODE> is in the 
    CLASSPATH. <BR><BR></P>
    <LI>Finally, <A 
    href="http://junit.sourceforge.net/doc/faq/faq.htm#overview_4">read</A> the 
    documentation. </LI></OL>
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=started_3>How do I uninstall JUnit?</A></B> 
  <P>
  <OL>
    <LI>Delete the directory structure where you unzipped the JUnit distribution 
    <BR>
    <LI>Remove <CODE>junit.jar</CODE> from the classpath </LI></OL>
  <P>JUnit does not modify the registry so simply removing all the files will 
  fully uninstall it. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=started_4>How do I ask questions?</A></B> 
  <P>Questions that are not answered in the <A 
  href="http://junit.sourceforge.net/doc/faq/faq.htm">FAQ</A> or in the <A 
  href="http://junit.sourceforge.net/doc/faq/faq.htm#overview_4">documentation</A> 
  should be posted to the <A 
  href="http://www.jguru.com/forums/home.jsp?topic=JUnit">jGuru discussion 
  forum</A> or the <A href="http://groups.yahoo.com/group/junit/">JUnit user 
  mailing list</A>. </P>
  <P>Please stick to technical issues on the discussion forum and mailing lists. 
  Keep in mind that these are public, so do <B>not</B> include any confidental 
  information in your questions! 
  <P>You should also read <A 
  href="http://www.catb.org/~esr/faqs/smart-questions.html">"How to ask 
  questions the smart way"</A> by Eric Raymond before participating in the 
  discussion forum and mailing lists. 
  <P><I>NOTE: <BR>Please do NOT submit bugs, patches, or feature requests to the 
  discussion forum or mailing lists. <BR>Refer instead to <A 
  href="http://junit.sourceforge.net/doc/faq/faq.htm#started_5">"How do I submit 
  bugs, patches, or feature requests?"</A>. </I>
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=started_5>How do I submit bugs, patches, or feature 
  requests?</A></B> 
  <P>JUnit celebrates programmers testing their own software. In this spirit, 
  bugs, patches, and feature requests that include JUnit tests have a better 
  chance of being addressed than those without. 
  <P>JUnit is forged on <A 
  href="http://sourceforge.net/projects/junit">SourceForge</A>. Please use the 
  tools provided by SourceForge for your submissions. 
  <P></P>
  <HR SIZE=1>
  </LI></OL><!--	Writing Tests-->
<TABLE cellSpacing=0 cellPadding=2 width="100%" bgColor=#33ff33 border=0>
  <TBODY>
  <TR>
    <TD align=left width="90%"><A name=tests><B><FONT size=+1>Writing 
      Tests:</FONT></B></A> </TD>
    <TD align=right><A 
      href="http://junit.sourceforge.net/doc/faq/faq.htm#toc">top</A> 
  </TD></TR></TBODY></TABLE>
<OL>
  <LI><B><A name=tests_1></A>How do I write and run a simple test?</B> 
  <P>
  <OL>
    <LI>Create a subclass of <CODE>TestCase</CODE>: 
    <P>
    <TABLE>
      <TBODY>
      <TR>
        <TD bgColor=#33ff33>&nbsp;</TD>
        <TD>&nbsp;</TD>
        <TD><PRE>package junitfaq;

import java.util.*;
import junit.framework.*;

public class SimpleTest extends TestCase {

    public SimpleTest(String name) {
        super(name);
    }
</PRE></TR></TBODY></TABLE><BR></P>
    <LI>Write a test method to assert expected results on the object under test: 

    <P>
    <TABLE>
      <TBODY>
      <TR>
        <TD bgColor=#33ff33>&nbsp;</TD>
        <TD>&nbsp;</TD>
        <TD><PRE>    public void testEmptyCollection() {
        Collection collection = new ArrayList();
        assertTrue(collection.isEmpty());
    }
</PRE></TR></TBODY></TABLE><BR></P>
    <LI>Write a <CODE>suite()</CODE> method that uses reflection to dynamically 
    create a test suite containing all the <CODE>testXXX()</CODE> methods: 
    <P>
    <TABLE>
      <TBODY>
      <TR>
        <TD bgColor=#33ff33>&nbsp;</TD>
        <TD>&nbsp;</TD>
        <TD><PRE>    public static Test suite() {
        return new TestSuite(SimpleTest.class);
    }
</PRE></TR></TBODY></TABLE><BR></P>
    <LI>Write a <CODE>main()</CODE> method to conveniently run the test with the 
    textual test runner: 
    <P>
    <TABLE>
      <TBODY>
      <TR>
        <TD bgColor=#33ff33>&nbsp;</TD>
        <TD>&nbsp;</TD>
        <TD><PRE>    public static void main(String args[]) {
        junit.textui.TestRunner.run(suite());
    }
}
</PRE></TR></TBODY></TABLE><BR></P>
    <LI>Run the test: 
    <P>
    <UL>
      <LI>To run the test with the textual test runner used in 
      <CODE>main()</CODE>, type: 
      <P>
      <BLOCKQUOTE><PRE>java junitfaq.SimpleTest 
</PRE></BLOCKQUOTE>
      <P>The passing test results in the following textual output: 
      <P>
      <BLOCKQUOTE><PRE>.
Time: 0

OK (1 tests)
</PRE></BLOCKQUOTE><BR>
      <LI>To run the test with the graphical test runner, type: 
      <P>
      <BLOCKQUOTE><PRE>java junit.swingui.TestRunner junitfaq.SimpleTest 
</PRE></BLOCKQUOTE>
      <P>The passing test results in a green bar displayed in the graphical UI. 
      </P></LI></UL></LI></OL>
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=tests_2></A>How do I use a test fixture?</B> 
  <P>A test fixture is useful if you have two or more tests for a common set of 
  objects. Using a test fixture avoids duplicating the test code necessary to 
  initialize and cleanup those common objects for each test. 
  <P>Tests can share the objects in a test fixture, with each test invoking 
  different methods on the objects in the fixture and asserting different 
  expected results. Each test runs in its own test fixture to isolate tests from 
  the changes made by other tests. Because the tests are isolated, they can be 
  run in any order. 
  <P>To create a test fixture, define a <CODE>setUp()</CODE> method that 
  initializes common objects and a <CODE>tearDown()</CODE> method to cleanup 
  those objects. The JUnit framework automatically invokes the 
  <CODE>setUp()</CODE> method before each test is run and the 
  <CODE>tearDown()</CODE> method after each test is run. 
  <P>The following test uses a test fixture to initialize and cleanup a common 
  <CODE>Collection</CODE> object such that both tests are isolated from changes 
  made by the other: 
  <P>
  <TABLE>
    <TBODY>
    <TR>
      <TD bgColor=#33ff33>&nbsp;</TD>
      <TD>&nbsp;</TD>
      <TD><PRE>package junitfaq;

import junit.framework.*;
import java.util.*;

public class SimpleTest extends TestCase {

    private Collection _collection;
	
    public SimpleTest(String name) {
        super(name);
    }
	
    protected void setUp() {
        _collection = new ArrayList();
    }
	
    protected void tearDown() {
        _collection.clear();
    }

    public void testEmptyCollection() {
        assertTrue(_collection.isEmpty());
    }
	
    public void testOneItemCollection() {
        _collection.add("itemA");
        assertEquals(1, _collection.size());
    }
}
</PRE></TR></TBODY></TABLE>
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=tests_3></A>Why isn't my test fixture being run?</B> 
  <P>Make sure the test fixture methods are defined as follows, noting that both 
  method names are case sensitive: 
  <P>
  <BLOCKQUOTE><PRE>protected void setUp() {
    // initialization code
}

protected void tearDown() {
    // cleanup code
}
</PRE></BLOCKQUOTE>
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=tests_4></A>How do I test a method that doesn't return 
  anything?</B> 
  <P><I>(Submitted by: Dave Astels)</I> 
  <P>Often if a method doesn't return a value, it will have some side effect. 
  Actually, if it doesn't return a value AND doesn't have a side effect, it 
  isn't doing anything. 
  <P>There may be a way to verify that the side effect actually occurred as 
  expected. For example, consider the <CODE>add()</CODE> method in the 
  Collection classes. There are ways of verifying that the side effect happened 
  (i.e. the object was added). You can check the size and assert that it is what 
  is expected: 
  <P>
  <TABLE>
    <TBODY>
    <TR>
      <TD bgColor=#33ff33>&nbsp;</TD>
      <TD>&nbsp;</TD>
      <TD><PRE>public void testCollectionAdd() {
    Collection collection = new ArrayList();
    assertEquals(0, collection.size());
    collection.add("itemA");
    assertEquals(1, collection.size());
    collection.add("itemB");
    assertEquals(2, collection.size());
}
</PRE></TR></TBODY></TABLE>
  <P>Another approach is to make use of <A 
  href="http://www.mockobjects.com/">MockObjects</A>. 
  <P>A related issue is to design for testing. For example, if you have a method 
  that is meant to output to a file, don't pass in a filename, or even a 
  <CODE>FileWriter</CODE>. Instead, pass in a <CODE>Writer</CODE>. That way you 
  can pass in a <CODE>StringWriter</CODE> to capture the output for testing 
  purposes. Then you can add a method (e.g. <CODE>writeToFileNamed(String 
  filename)</CODE>) to encapsulate the <CODE>FileWriter</CODE> creation. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=tests_5></A>Under what conditions should I test get() and set() 
  methods?</B> 
  <P>Unit tests are intended to alleviate fear that something might break. If 
  you think a <CODE>get()</CODE> or <CODE>set()</CODE> method could reasonably 
  break, or has in fact contributed to a defect, then by all means write a test. 

  <P>In short, test until you're confident. What you choose to test is 
  subjective, based on your experiences and confidence level. Remember to be 
  practical and maximize your testing investment. 
  <P>Refer also to <A 
  href="http://junit.sourceforge.net/doc/faq/faq.htm#best_3">"How simple is 'too 
  simple to break'?"</A>. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=tests_6></A>Under what conditions should I not test get() and 
  set() methods?</B> 
  <P><I>(Submitted by: J. B. Rainsberger)</I> 
  <P>Most of the time, get/set methods just can't break, and if they can't 
  break, then why test them? While it is usually better to test more, there is a 
  definite curve of diminishing returns on test effort versus "code coverage". 
  Remember the maxim: "Test until fear turns to boredom." 
  <P>Assume that the <CODE>getX()</CODE> method only does "return x;" and that 
  the <CODE>setX()</CODE> method only does "this.x = x;". If you write this 
  test: 
  <BLOCKQUOTE><PRE>testGetSetX() {
    setX(23);
    assertEquals(23, getX());
}
</PRE></BLOCKQUOTE>then you are testing the equivalent of the following: 
  <BLOCKQUOTE><PRE>testGetSetX() {
    x = 23;
    assertEquals(23, x);
}
</PRE></BLOCKQUOTE>or, if you prefer, 
  <BLOCKQUOTE><PRE>testGetSetX() {
    assertEquals(23, 23);
}
</PRE></BLOCKQUOTE>At this point, you are testing the Java compiler, or 
  possibly the interpreter, and not your component or application. There is 
  generally no need for you to do Java's testing for them. 
  <P>If you are concerned about whether a property has already been set at the 
  point you wish to call <CODE>getX()</CODE>, then you want to test the 
  constructor, and not the <CODE>getX()</CODE> method. This kind of test is 
  especially useful if you have multiple constructors: 
  <BLOCKQUOTE><PRE>testCreate() {
    assertEquals(23, new MyClass(23).getX());
}
</PRE></BLOCKQUOTE>
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=tests_7></A>How do I write a test that passes when an expected 
  exception is thrown?</B> 
  <P>Catch the exception within the test method. If it isn't thrown, call the 
  <CODE>fail()</CODE> method to signal the failure of the test. 
  <P>The following is an example test that passes when the expected 
  <CODE>IndexOutOfBoundsException</CODE> is raised: 
  <P>
  <TABLE>
    <TBODY>
    <TR>
      <TD bgColor=#33ff33>&nbsp;</TD>
      <TD>&nbsp;</TD>
      <TD><PRE>public void testIndexOutOfBoundsException() {
		
    ArrayList emptyList = new ArrayList();
		
    try {
	
        Object o = emptyList.get(0);
	
        fail("Should raise an IndexOutOfBoundsException");
	
    } catch (IndexOutOfBoundsException success) {}
}
</PRE></TR></TBODY></TABLE>
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=tests_8></A>How do I write a test that fails when an unexpected 
  exception is thrown?</B> 
  <P>Declare the exception in the <CODE>throws</CODE> clause of the test method 
  and don't catch the exception within the test method. Uncaught exceptions will 
  cause the test to fail with an error. 
  <P>The following is an example test that fails when the 
  <CODE>IndexOutOfBoundsException</CODE> is raised: 
  <P>
  <TABLE>
    <TBODY>
    <TR>
      <TD bgColor=#cc0000>&nbsp;</TD>
      <TD>&nbsp;</TD>
      <TD><PRE>public void testIndexOutOfBoundsExceptionNotRaised() throws IndexOutOfBoundsException {
    ArrayList emptyList = new ArrayList();
    Object o = emptyList.get(0);
}
</PRE></TR></TBODY></TABLE>
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=tests_9></A>What's the difference between a failure and an 
  error?</B> 
  <P>Assertions are used to check for the possibility of failures, therefore 
  failures are anticipated. Errors are unanticipated problems resulting in 
  uncaught exceptions being propagated from a JUnit test method. 
  <P>In the following example, the <CODE>FileNotFoundException</CODE> is 
  expected and checked with an assertion. If the expected exception is not 
  raised, then a failure is produced. If any other unexpected 
  <CODE>IOException</CODE> or unchecked exception (e.g. 
  <CODE>NullPointerException</CODE>) is raised, the JUnit framework catches the 
  exception and signals an error. 
  <P>
  <TABLE>
    <TBODY>
    <TR>
      <TD bgColor=#33ff33>&nbsp;</TD>
      <TD>&nbsp;</TD>
      <TD><PRE>public void testNonexistentFileRead() throws IOException {
    try {

        File file = new File("doesNotExist.txt");
        FileReader reader = new FileReader(file);
        assertEquals('a', (char)reader.read());
			
        fail("Read from a nonexistent file?!");
	
    } catch (FileNotFoundException success) {}
} 
</PRE></TR></TBODY></TABLE>
  <P>In the following example, an <CODE>IOException</CODE> is not expected. The 
  JUnit framework will signal an error if an <CODE>IOException</CODE> (e.g. 
  <CODE>FileNotFoundException</CODE>) or any unchecked exception (e.g. 
  <CODE>NullPointerException</CODE>) is raised. 
  <P>
  <TABLE>
    <TBODY>
    <TR>
      <TD bgColor=#33ff33>&nbsp;</TD>
      <TD>&nbsp;</TD>
      <TD><PRE>public void testExistingFileRead() throws IOException {

    // exists.txt created in setup(), perhaps

    File file = new File("exists.txt");  
    FileReader reader = new FileReader(file);
			
    assertEquals('a', (char)reader.read());
} 
</PRE></TR></TBODY></TABLE>
  <P>Both failures and errors will cause the test to fail. However, it is useful 
  to differentiate between failures and errors because the debugging process is 
  slightly different. 
  <P>In the first example, the use of <CODE>fail()</CODE> will not generate a 
  complete stack trace including the method that raised the exception. In this 
  case that's sufficient since we anticipate that the exception will be raised. 
  If it's not raised, then it's a problem with the test itself. 
  <P>In the second example, the JUnit framework catches the exception and 
  generates an error with a complete stack trace for the exception. Since we 
  don't expect this exception to be raised, a complete stack trace is useful in 
  debugging why it was raised. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=tests_10></A>How do I test protected methods?</B> 
  <P>Place your tests in the same package as the classes under test. 
  <P>Refer to <A 
  href="http://junit.sourceforge.net/doc/faq/faq.htm#organize_1">"Where should I 
  put my test files?"</A> for examples of how to organize tests for protected 
  method access. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=tests_11></A>How do I test private methods?</B> 
  <P>Testing private methods may be an indication that those methods should be 
  moved into another class to promote reusability. 
  <P>But if you must... 
  <P>You can use reflection to subvert the access control mechanism. If you are 
  using JDK 1.3 or higher you can use the <A 
  href="http://groups.yahoo.com/group/junit/files/src/PrivilegedAccessor.java">PrivilegedAccessor</A> 
  class. Examples of how to use this class are available in <A 
  href="http://groups.yahoo.com/group/junit/files/src/PrivilegedAccessorTest.java">PrivilegedAccessorTest</A>. 

  <P></P>
  <HR SIZE=1>

  <LI><B><A name=tests_12></A>Why does JUnit only report the first failure in a 
  single test?</B> 
  <P><I>(Submitted by: J. B. Rainsberger)</I> 
  <P>Reporting multiple failures in a single test is generally a sign that the 
  test does too much, compared to what a unit test ought to do. Usually this 
  means either that the test is really a functional/acceptance/customer test or, 
  if it is a unit test, then it is too big a unit test. 
  <P>JUnit is designed to work best with a number of small tests. It executes 
  each test within a separate instance of the test class. It reports failure on 
  each test. Shared setup code is most natural when sharing between tests. This 
  is a design decision that permeates JUnit, and when you decide to report 
  multiple failures per test, you begin to fight against JUnit. This is not 
  recommended. 
  <P>Long tests are a design smell and indicate the likelihood of a design 
  problem. Kent Beck is fond of saying in this case that "there is an 
  opportunity to learn something about your design." We would like to see a 
  pattern language develop around these problems, but it has not yet been 
  written down. 
  <P>Finally, note that a single test with multiple assertions is isomorphic to 
  a test case with multiple tests: 
  <P>One test method, three assertions: 
  <P>
  <BLOCKQUOTE><PRE>public class MyTestCase extends TestCase {
    public void testSomething() {
        // Set up for the test, manipulating local variables
        assertTrue(condition1);
        assertTrue(condition2);
        assertTrue(condition3);
    }
}
</PRE></BLOCKQUOTE>
  <P>Three test methods, one assertion each: 
  <P>
  <BLOCKQUOTE><PRE>public class MyTestCase extends TestCase {
    // Locale variables become instance variables

    protected void setUp() {
        // Set up for the test, manipulating instance variables
    }
    
    public void testCondition1() {
        assertTrue(condition1);
    }

    public void testCondition2() {
        assertTrue(condition2);
    }

    public void testCondition3() {
        assertTrue(condition3);
    }
}
</PRE></BLOCKQUOTE>The resulting tests use JUnit's natural execution and 
  reporting mechanism and, failure in one test does not affect the execution of 
  the other tests. You generally want exactly one test to fail for any given 
  bug, if you can manage it. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=tests_13></A>In Java 1.4, 'assert' is a keyword. Won't this 
  conflict with JUnit's <CODE>assert()</CODE> method?</B> 
  <P><I>(Submitted by: David Stagner)</I> 
  <P>JUnit 3.7 deprecated <CODE>assert()</CODE> and replaced it with 
  <CODE>assertTrue()</CODE>, which works exactly the same way. 
  <P>Simply upgrade your JUnit to version 3.7 or higher and change all 
  <CODE>assert()</CODE> calls in your existing tests to 
  <CODE>assertTrue()</CODE>. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=tests_14></A>How do I test things that must be run in a J2EE 
  container (e.g. servlets, EJBs)?</B> 
  <P>Refactoring J2EE components to delegate functionality to other objects that 
  don't have to be run in a J2EE container will improve the design and 
  testability of the software. 
  <P><A href="http://jakarta.apache.org/cactus/index.html">Cactus</A> is an open 
  source JUnit extension that can be used to test J2EE components in their 
  natural environment. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=tests_15></A>Do I need to write a <CODE>TestCase</CODE> class 
  for every class I need to test?</B> 
  <P><I>(Submitted by: J. B. Rainsberger)</I> 
  <P>No. It is a convention to start with one <CODE>TestCase</CODE> class per 
  class under test, but it is not necessary. 
  <P><CODE>TestCase</CODE> classes only provide a way to organize tests, nothing 
  more. Generally you will start with one <CODE>TestCase</CODE> class per class 
  under test, but then you may find that a small group of tests belong together 
  with their own common test fixture.[1] In this case, you may move those tests 
  to a new <CODE>TestCase</CODE> object. This is a simple object-oriented 
  refactoring: separating responsibilities of an object that does too much. 
  <P>Another point to consider is that the <CODE>TestSuite</CODE> is the 
  smallest execution unit in JUnit: you cannot execute anything smaller than a 
  TestSuite at one time without changing source code. In this case, you probably 
  do not want to put tests in the same <CODE>TestCase</CODE> class unless they 
  somehow "belong together". If you have two groups of tests that you think 
  you'd like to execute separately from one another, it is wise to place them in 
  separate <CODE>TestCase</CODE> classes. 
  <P><I>[1] A test fixture is a common set of test data and collaborating 
  objects shared by many tests. Generally they are implemented as instance 
  variables in the <CODE>TestCase</CODE> class. </I>
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=tests_16></A>Is there a basic template I can use to create a 
  test?</B> 
  <P><I>(Submitted by: Eric Armstrong)</I> 
  <P>The following templates are a good starting point. Copy/paste and edit 
  these templates to suit your coding style. 
  <P>SampleTest is a basic test template: 
  <P>
  <BLOCKQUOTE><PRE>import junit.framework.TestCase;

public class SampleTest extends TestCase {

    private java.util.List emptyList;

    /**
     * Sets up the test fixture. 
     * (Called before every test case method.)
     */
    protected void setUp() {
        emptyList = new java.util.ArrayList();
    }

    /**
     * Tears down the test fixture. 
     * (Called after every test case method.)
     */
    protected void tearDown() {
        emptyList = null;
    }
    
    public void testSomeBehavior() {
        assertEquals("Empty list should have 0 elements", 0, emptyList.size());
    }

    public void testForException() {

        try {

            Object o = emptyList.get(0);

            fail("Should raise an IndexOutOfBoundsException");

        } catch (IndexOutOfBoundsException success) {
        }
    }

    public static void main(String args[]) {
        junit.textui.TestRunner.run(SampleTest.class);
    }
}
</PRE></BLOCKQUOTE>SampleTestSuite is a template for a suite of tests: 
  <P>
  <BLOCKQUOTE><PRE>import junit.framework.Test;
import junit.framework.TestSuite;

public class SampleTestSuite {

    public static Test suite() {

        TestSuite suite = new TestSuite("Sample Tests");
        
        //
        // Add one entry for each test class
        // or test suite.
        //
        suite.addTestSuite(SampleTest.class);
        
        //
        // For a master test suite, use this pattern.
        // (Note that here, it's recursive!)
        //
        suite.addTest(AnotherTestSuite.suite());

        return suite;
    }

    public static void main(String args[]) {
        junit.textui.TestRunner.run(suite());
    }
}
</PRE></BLOCKQUOTE>
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=tests_17></A>How do I write a test for an abstract class?</B> 
  <P>Refer to <A 
  href="http://c2.com/cgi/wiki?AbstractTestCases">http://c2.com/cgi/wiki?AbstractTestCases</A>. 

  <P></P>
  <HR SIZE=1>
  </LI></OL><!--	Organizing Tests-->
<TABLE cellSpacing=0 cellPadding=2 width="100%" bgColor=#33ff33 border=0>
  <TBODY>
  <TR>
    <TD align=left width="90%"><A name=organize><B><FONT size=+1>Organizing 
      Tests:</FONT></B></A> </TD>
    <TD align=right><A 
      href="http://junit.sourceforge.net/doc/faq/faq.htm#toc">top</A> 
  </TD></TR></TBODY></TABLE>
<OL>
  <LI><B><A name=organize_1></A>Where should I put my test files?</B> 
  <P>You can place your tests in the same package and directory as the classes 
  under test. 
  <P>For example: 
  <BLOCKQUOTE><PRE>src
   com
      xyz
         SomeClass.java
         SomeClassTest.java	 
</PRE></BLOCKQUOTE>
  <P>While adequate for small projects, many developers feel that this approach 
  clutters the source directory, and makes it hard to package up client 
  deliverables without also including unwanted test code, or writing 
  unnecessarily complex packaging tasks. 
  <P>An arguably better way is to place the tests in a separate parallel 
  directory structure with package alignment. 
  <P>For example: 
  <BLOCKQUOTE><PRE>src
   com
      xyz
         SomeClass.java
test
   com
      xyz
         SomeClassTest.java	 
</PRE></BLOCKQUOTE>
  <P>These approaches allow the tests to access to all the public and package 
  visible methods of the classes under test. 
  <P>Some developers have argued in favor of putting the tests in a sub-package 
  of the classes under test (e.g. com.xyz.test). The author of this FAQ sees no 
  clear advantage to adopting this approach and believes that said developers 
  also put their curly braces on the wrong line. :-) 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=organize_2></A>How do I write a test suite for all of my 
  tests?</B> 
  <P>Write a <CODE>suite()</CODE> method that creates a <CODE>TestSuite</CODE> 
  containing all your tests. 
  <P>For example: 
  <P>
  <TABLE>
    <TBODY>
    <TR>
      <TD bgColor=#33ff33>&nbsp;</TD>
      <TD>&nbsp;</TD>
      <TD><PRE>import junit.framework.*;

public class AllTests {

    public static Test suite() {

        TestSuite suite = new TestSuite();

        suite.addTest(SomeTest.suite());
        suite.addTest(AnotherTest.suite());
		
        return suite;
    }

    public static void main(String args[]) {
        junit.textui.TestRunner.run(suite());
    }
}
</PRE></TR></TBODY></TABLE>
  <P>Running <CODE>AllTests</CODE> will automatically run all of its contained 
  tests in one fell swoop. 
  <P>You can arbitrarily group any tests into test suites as appropriate by 
  package, logical layers, test type, etc. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=organize_3></A>How can I run setUp() and tearDown() code once 
  for all of my tests?</B> 
  <P>The desire to do this is usually a symptom of excessive coupling in your 
  design. If two or more tests must share the same test fixture state, then the 
  tests may be trying to tell you that the classes under test have some 
  undesirable dependencies. 
  <P>Refactoring the design to further decouple the classes under test and 
  eliminate code duplication is usually a better investment than setting up a 
  shared test fixture. 
  <P>But if you must... 
  <P>You can wrap the test suite containing all your tests in a subclass of 
  <CODE>TestSetup</CODE> which invokes <CODE>setUp()</CODE> exactly once before 
  all the tests are run and invokes <CODE>tearDown()</CODE> exactly once after 
  all the tests have been run. 
  <P>The following is an example <CODE>suite()</CODE> method that uses a 
  <CODE>TestSetup</CODE> for one-time initialization and cleanup: 
  <P>
  <TABLE>
    <TBODY>
    <TR>
      <TD bgColor=#33ff33>&nbsp;</TD>
      <TD>&nbsp;</TD>
      <TD><PRE>import junit.framework.*;
import junit.extensions.TestSetup;

public class AllTestsOneTimeSetup {

    public static Test suite() {

        TestSuite suite = new TestSuite();

        suite.addTest(SomeTest.suite());
        suite.addTest(AnotherTest.suite());

        TestSetup wrapper = new TestSetup(suite) {

            protected void setUp() {
                oneTimeSetUp();
            }

            protected void tearDown() {
                oneTimeTearDown();
            }
        };

        return wrapper;
    }

    public static void oneTimeSetUp() {
        // one-time initialization code
    }

    public static void oneTimeTearDown() {
        // one-time cleanup code
    }
}
</PRE></TR></TBODY></TABLE>
  <P></P>
  <HR SIZE=1>
  </LI></OL><!--	Running Tests-->
<TABLE cellSpacing=0 cellPadding=2 width="100%" bgColor=#33ff33 border=0>
  <TBODY>
  <TR>
    <TD align=left width="90%"><A name=running><B><FONT size=+1>Running 
      Tests:</FONT></B></A> </TD>
    <TD align=right><A 
      href="http://junit.sourceforge.net/doc/faq/faq.htm#toc">top</A> 
  </TD></TR></TBODY></TABLE>
<OL>
  <LI><B><A name=running_1></A>What CLASSPATH settings are needed to run 
  JUnit?</B> 
  <P><I>(Submitted by: Eric Armstrong)</I> 
  <P>To run your JUnit tests, you'll need the following elemements in your 
  CLASSPATH: 
  <UL>
    <LI>JUnit class files 
    <LI>Your class files, including your JUnit test classes 
    <LI>Libraries your class files depend on </LI></UL>
  <P></P>
  <P>If attempting to run your tests results in a 
  <CODE>NoClassDefFoundError</CODE>, then something is missing from your 
  CLASSPATH. </P>
  <P><U>Windows Example:</U> </P>
  <P><CODE>set 
  CLASSPATH=%JUNIT_HOME%\junit.jar;c:\myproject\classes;c:\myproject\lib\something.jar</CODE> 
  </P>
  <P><U>Unix (bash) Example:</U> </P>
  <P><CODE>export 
  CLASSPATH=$JUNIT_HOME/junit.jar:/myproject/classes:/myproject/lib/something.jar</CODE> 
  </P>
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=running_2></A>Why do I get a <CODE>NoClassDefFoundError</CODE> 
  when trying to test JUnit or run the samples?</B> 
  <P><I>(Submitted by: J.B. Rainsberger and Jason Rogers)</I> 
  <P>
  <P>Most likely your CLASSPATH doesn't include the JUnit installation 
  directory. </P>
  <P>Refer to <A 
  href="http://junit.sourceforge.net/doc/faq/faq.htm#running_1">"What CLASSPATH 
  settings are needed to run JUnit?"</A> for more guidance. </P>
  <P>Also consider running <A 
  href="http://www.clarkware.com/software/WhichJUnit.zip">WhichJunit</A> to 
  print the absolute location of the JUnit class files required to run and test 
  JUnit and its samples. 
  <P>If the CLASSPATH seems mysterious, read <A 
  href="http://java.sun.com/j2se/1.4/docs/tooldocs/findingclasses.html">this</A>! 

  <P></P>
  <HR SIZE=1>

  <LI><B><A name=running_3></A>How do I run the JUnit GUI test runner?</B> 
  <P><I>(Submitted by: Eric Armstrong)</I> 
  <P>
  <OL>
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#running_1">Set 
    your CLASSPATH</A> <BR>
    <LI>Invoke the runner: <BR><BR><CODE>java junit.swingui.TestRunner &lt;test 
    class name&gt; </CODE></LI></OL>
  <P></P>
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=running_4></A>How do I run JUnit from my command window?</B> 
  <P><I>(Submitted by: Eric Armstrong)</I> 
  <P>
  <OL>
    <LI><A href="http://junit.sourceforge.net/doc/faq/faq.htm#running_1">Set 
    your CLASSPATH</A> <BR>
    <LI>Invoke the runner: <BR><BR><CODE>java junit.textui.TestRunner &lt;test 
    class name&gt; </CODE></LI></OL>
  <P></P>
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=running_5></A>How do I run JUnit using Ant?</B> 
  <P><I>(Submitted by: Eric Armstrong)</I> 
  <P>
  <OL>
    <LI>Define any necessary Ant properties: 
    <BLOCKQUOTE><PRE>&lt;property name="src" value="./src" /&gt;
&lt;property name="lib" value="./lib" /&gt;
&lt;property name="classes" value="./classes" /&gt;
&lt;property name="test.class.name" value="com.xyz.MyTestSuite" /&gt;
</PRE></BLOCKQUOTE><BR>
    <LI>Set up the CLASSPATH to be used by JUnit: 
    <BLOCKQUOTE><PRE>&lt;path id="test.classpath"&gt;
  &lt;pathelement location="${classes}" /&gt;
  &lt;pathelement location="/path/to/junit.jar" /&gt;
  &lt;fileset dir="${lib}"&gt;
    &lt;include name="**/*.jar"/&gt;
  &lt;/fileset&gt;
&lt;/path&gt;
</PRE></BLOCKQUOTE><BR>
    <LI>Define the Ant task for running JUnit: 
    <BLOCKQUOTE><PRE>&lt;target name="test"&gt;
  &lt;junit fork="yes" haltonfailure="yes"&gt;
    &lt;test name="${test.class.name}" /&gt;
    &lt;formatter type="plain" usefile="false" /&gt;
    &lt;classpath refid="test.classpath" /&gt;
  &lt;/junit&gt;
&lt;/target&gt;
</PRE></BLOCKQUOTE><BR>
    <LI>Run the test: 
    <BLOCKQUOTE><PRE>ant test
</PRE></BLOCKQUOTE></LI></OL>
  <P></P>
  <P>Refer to the <A 
  href="http://jakarta.apache.org/ant/manual/OptionalTasks/junit.html">JUnit Ant 
  Task</A> for more information. </P>
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=running_6></A>How do I use Ant to create HTML test reports?</B> 

  <P><I>(Submitted by: Eric Armstrong and Steffen Gemkow)</I> 
  <P>
  <OL>
    <LI>Ensure that Ant's <CODE>optional.jar</CODE> file is either in your 
    CLASSPATH or exists in your <CODE>$ANT_HOME/lib</CODE> directory. <BR>
    <LI>Add an ANT property for the directory containing the HTML reports: 
    <BLOCKQUOTE><PRE>&lt;property name="test.reports" value="./reports" /&gt;
</PRE></BLOCKQUOTE><BR>
    <LI>Define the Ant task for running JUnit and generating reports: 
    <BLOCKQUOTE><PRE>&lt;target name="test-html"&gt;
  &lt;junit fork="yes" printsummary="no" haltonfailure="no"&gt;
    &lt;batchtest fork="yes" todir="${test.reports}" &gt;
      &lt;fileset dir="${classes}"&gt;
        &lt;include name="**/*Test.class" /&gt;
      &lt;/fileset&gt;
    &lt;/batchtest&gt;
    &lt;formatter type="xml" /&gt;
    &lt;classpath refid="test.classpath" /&gt;
  &lt;/junit&gt;

  &lt;junitreport todir="${test.reports}"&gt;
    &lt;fileset dir="${test.reports}"&gt;
      &lt;include name="TEST-*.xml" /&gt;
    &lt;/fileset&gt;
    &lt;report todir="${test.reports}" /&gt;
  &lt;/junitreport&gt;
&lt;/target&gt;
</PRE></BLOCKQUOTE><BR>
    <LI>Run the test: 
    <BLOCKQUOTE><PRE>ant test-html
</PRE></BLOCKQUOTE></LI></OL>
  <P></P>
  <P>Refer to the <A 
  href="http://jakarta.apache.org/ant/manual/OptionalTasks/junit.html">JUnit Ant 
  Task</A> for more information. </P>
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=running_7></A>How do I pass command-line arguments to a test 
  execution?</B> 
  <P>Use the <TT>-D</TT> JVM command-line options, as in: 
  <BLOCKQUOTE><PRE>-DparameterName=parameterValue
</PRE></BLOCKQUOTE>
  <P></P>
  <P>If the number of parameters on the command line gets unweildy, pass in the 
  location of a property file that defines a set of parameters. Alternatively, 
  the <A href="http://junit-addons.sf.net/">JUnit-addons package</A> contains 
  the <TT>XMLPropertyManager</TT> and <TT>PropertyManager</TT> classes that 
  allow you to define a property file (or XML file) containing test parameters. 
  </P>
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=running_8></A>Why do I get an error 
  (<CODE>ClassCastException</CODE> or <CODE>LinkageError</CODE>) using the GUI 
  TestRunners?</B> 
  <P><I>(Submitted by: Scott Stirling)</I> 
  <P>JUnits GUI TestRunners use a custom class loader 
  (<CODE>junit.runner.TestCaseClassLoader</CODE>) to dynamically reload your 
  code every time you press the "Run" button so you don't have to restart the 
  GUI to reload your classes if you recompile them. The default classloaders of 
  the Java Virtual Machine do not dynamically reload changed classes. But 
  JUnits custom class loader finds and loads classes from the same CLASSPATH 
  used by the JVMs system classloader. So, by design, it "sits in front of" the 
  system loader and applies a filter to determine whether it should load a given 
  class or delegate the loading of a class to the system classloader. This 
  filter is configured with a list of String patterns in a properties file 
  called <CODE>excluded.properties</CODE>. 
  <P>The <CODE>excluded.properties</CODE> file contains a numbered list 
  (<CODE>excluded.0</CODE>, <CODE>excluded.1</CODE>, <CODE>excluded.2</CODE>, 
  etc.) of properties whose values are patterns for packages. This file is 
  packaged in <CODE>junit.jar</CODE> as 
  <CODE>junit/runner/excluded.properties</CODE>. As of JUnit 3.7 and Java 1.4, 
  its contents are: 
  <BLOCKQUOTE><PRE>#
# The list of excluded package paths for the TestCaseClassLoader
#
excluded.0=sun.*
excluded.1=com.sun.*
excluded.2=org.omg.*
excluded.3=javax.*
excluded.4=sunw.*
excluded.5=java.*
</PRE></BLOCKQUOTE>
  <P>There are some conditions, discussed below, where the default exclusions 
  are insufficient and you will want to add some more to this list and then 
  either update the <CODE>junit.jar</CODE> file with your customized version or 
  place your customized version in the CLASSPATH before <CODE>junit.jar</CODE>. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=running_9></A>Why do I get a <CODE>LinkageError</CODE> when 
  using XML interfaces in my TestCase?</B> 
  <P><I>(Submitted by: Scott Stirling)</I> 
  <P>The workaround as of JUnit 3.7 is to add <CODE>org.w3c.dom.*</CODE> and 
  <CODE>org.xml.sax.*</CODE> to your <CODE>excluded.properties</CODE>. 
  <P>Its just a matter of time before this fix becomes incorporated into the 
  released version of JUnit's <CODE>excluded.properties</CODE>, since JAXP is a 
  standard part of JDK 1.4. It will be just like excluding 
  <CODE>org.omg.*</CODE>. By the way, if you download the JUnit source from its 
  Sourceforge CVS, you will find that these patterns have already been added to 
  the default excluded.properties and so has a pattern for JINI. In fact, here 
  is the current version in CVS, which demonstrates how to add exclusions to the 
  list too: 
  <BLOCKQUOTE><PRE>#
# The list of excluded package paths for the TestCaseClassLoader
#
excluded.0=sun.*
excluded.1=com.sun.*
excluded.2=org.omg.*
excluded.3=javax.*
excluded.4=sunw.*
excluded.5=java.*
excluded.6=org.w3c.dom.*
excluded.7=org.xml.sax.*
excluded.8=net.jini.*
</PRE></BLOCKQUOTE>
  <P>This is the most common case where the default 
  <CODE>excluded.properties</CODE> list needs modification. The cause of the 
  <CODE>LinkageError</CODE> is related to using JAXP in your test cases. By JAXP 
  I mean the whole set of <CODE>javax.xml.*</CODE> classes and the supporting 
  <CODE>org.w3c.dom.*</CODE> and <CODE>org.xml.sax.*</CODE> classes. 
  <P>As stated above, the JUnit GUI TestRunners' classloader relies on the 
  <CODE>excluded.properties</CODE> for classes it should delegate to the system 
  classloader. JAXP is an unusual case because it is a standard Java extension 
  library dependent on classes whose package names (<CODE>org.w3c.dom.*</CODE> 
  and <CODE>org.xml.sax.*</CODE>) do not begin with a standard Java or Sun 
  prefix. This is similar to the relationship between <CODE>javax.rmi.*</CODE> 
  and the <CODE>org.omg.*</CODE> classes, which have been excluded by default in 
  JUnits <CODE>excluded.properties</CODE> for a while. 
  <P>What can happen, and frequently does when using the JUnit Swing or AWT UI 
  with test cases that reference, use or depend on JAXP classes, such as Log4J, 
  Apache SOAP, Axis, Cocoon, etc., is that the JUnit class loader (properly) 
  delegates <CODE>javax.xml.*</CODE> classes it "sees" to the system loader. But 
  then the system loader, in the process of initializing and loading that JAXP 
  class, links and loads up a bunch of 
  <CODE>org.w3c.dom</CODE>/<CODE>org.xml.sax</CODE> classes. When it does so, 
  the JUnit custom classloader is not involved at all because the system 
  classloader never delegates "down" or checks with custom classloaders to see 
  if a class is already loaded. At any point after this, if the JUnit loader is 
  asked to load an <CODE>org.w3c.dom</CODE>/<CODE>org.xml.sax</CODE> class that 
  it's never seen before, it will try to load it because the classs name 
  doesn't match any of the patterns in the default exclude list. Thats when a 
  <CODE>LinkageError</CODE> occurs. This is really a flaw in the JUnit 
  classloader design, but there is the workaround given above. 
  <P>Java 2 JVMs keep classes (remember, classes and objects, though related, 
  are different entities to the JVM - Im talking about classes here, not object 
  instances) in namespaces, identifying them by their fully qualified classname 
  plus the instance of their defining (not initiating) loader. The JVM will 
  attempt to assign all unloaded classes referenced by an already defined and 
  loaded class to that class's defining loader. The JVM's classresolver routine 
  (implemented as a C function in the JVM source code) keeps track of all these 
  class loading events and "sees" if another classloader (such as the JUnit 
  custom loader) attempts to define a class that has already been defined by the 
  system loader. According to the rules of Java 2 loader constraints, in case a 
  class has already been defined by the system loader, any attempts to load a 
  class should first be delegated to the system loader. A "proper" way for JUnit 
  to handle this feature would be to load classes from a repository other than 
  the CLASSPATH that the system classloader knows nothing about. And then the 
  JUnit custom classloader could follow the standard Java 2 delegation model, 
  which is to always delegate class loading to the system loader, and only 
  attempt to load if that fails. Since they both load from the CLASSPATH in the 
  current model, if the JUnit loader delegated like it's supposed to, it would 
  never get to load any classes since the system loader would always find them. 
  <P>You could try to hack around this in the JUnit source by catching the 
  <CODE>LinkageError</CODE> in TestCaseClassLoader's <CODE>loadClass()</CODE> 
  method and then making a recovery call to <CODE>findSystemClass()</CODE> -- 
  thereby delegating to the system loader after the violation has been caught. 
  But this hack only works some of the time, because now you can have the 
  reverse problem where the JUnit loader will load a host of 
  <CODE>org.w3c.dom</CODE>/<CODE>org.xml.sax</CODE> classes, and then the system 
  loader violates the loader contraints at some point when it tries to do 
  exactly what I described above with JAXP because it doesn't ever delegate to 
  its logical child (the JUnit loader). Inevitably, if your test cases use many 
  JAXP and related XML classes, one or the other classloader will end up 
  violating the constraints whatever you do. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=running_10></A>Why do I get a <CODE>ClassCastException</CODE> 
  when I use <CODE>narrow()</CODE> in an EJB client TestCase?</B> 
  <P><I>(Submitted by: Scott Stirling)</I> 
  <P>The solution is to prevent your EJB's interface classes from being loaded 
  by the JUnit custom class loader by adding them to 
  <CODE>excluded.properties</CODE>. 
  <P>This is another problem inherent to JUnit's dynamically reloading 
  TestCaseClassLoader. Similar to the LinkageErrors with JAXP and the 
  <CODE>org.xml.sax</CODE> and <CODE>org.w3c.dom</CODE> classes, but with a 
  different result. 
  <P>Here's some example code: 
  <BLOCKQUOTE><PRE>Point point;
PointHome pointHome;

// The next line works in textui, but throws
// ClassCastException in swingui

pointHome = (PointHome)PortableRemoteObject.
    narrow(ctx.lookup("base/PointHome"), PointHome.class);
</PRE></BLOCKQUOTE>
  <P>When you call <CODE>InitialContext.lookup()</CODE>, it returns an object 
  that was loaded and defined by the JVM's system classloader 
  (<CODE>sun.misc.Launcher$AppClassLoader</CODE>), but the 
  <CODE>PointEJBHome.class</CODE> type is loaded by JUnit's TestCaseClassLoader. 
  In the <CODE>narrow()</CODE>, the two fully qualified class names are the 
  same, but the defining classloaders for the two are different so you get the 
  exception during the narrow because the JVM doesn't see them as being the same 
  runtime class type. 
  <P>Recall that in Java 2 an object's class (a.k.a. "runtime type") is 
  identified in the JVM as the pair of 
  &lt;fully-qualified-classname;definingClassLoaderInstance&gt; or (in shorter 
  form) &lt;C;L&gt;. That is, the defining loaders identity is part of the 
  runtime name identifying that class in the JVM. Also recall that the JVM will 
  expect a class's defining loader to load all unloaded classes referenced by 
  the classes it loads. 
  <P>If interested for debugging purposes, you can find out more about which 
  loader loaded which class by doing something like this: 
  <BLOCKQUOTE><PRE>System.out.println(ctx.lookup("base/PointEJBHome").getClass().getClassLoader());
System.out.println(PointEJBHome.class.getClassLoader());
</PRE></BLOCKQUOTE>
  <P>You'll find when using the GUI TestRunners that the 
  <CODE>PointEJBHome</CODE> type is defined by the JUnit TestCaseClassLoader and 
  the object returned from <CODE>InitialContext.lookup()</CODE> was defined 
  through the JVM's system class loader. When using the tex-based TestRunner 
  they'll both have been loaded through the system loader. 
  <P>If you use Ant's &lt;batchtest&gt; task to run your test cases and you have 
  this problem, you can work around it by setting <CODE>fork="true"</CODE> on 
  <CODE>&lt;batchtest&gt;</CODE>, which causes it to run each test in its own 
  Java Virtual Machine separate from Ants launching JVM. 
  <P>For further reading about the principles of Java dynamic classloading, the 
  best resource is the short paper by Sheng Liang, the architect of the Java 2 
  classloader architecture: <A href="http://java.sun.com/people/sl/"><I>Dynamic 
  Class Loading in the Java Virtual Machine</I></A>, OOPSLA 1998. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=running_11></A>Why do I get the warning "AssertionFailedError: 
  No tests found in XXX" when I run my test?</B> 
  <P>Make sure the test contains one or more methods with names beginning with 
  "test". 
  <P>For example: 
  <BLOCKQUOTE><PRE>public void testSomething() {
}
</PRE></BLOCKQUOTE>
  <P></P>
  <P>This error also commonly occurs when using the <CODE>addTestSuite()</CODE> 
  in an attempt to create a hiearchy of test suites. For more information, see 
  <A href="http://junit.sourceforge.net/doc/faq/faq.htm#running_14">"How do I 
  get one test suite to invoke another?"</A>. </P>
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=running_12></A>Why do I see "Unknown Source" in the stack trace 
  of a test failure, rather than the source file's line number?</B> 
  <P>The debug option for the Java compiler must be enabled in order to see 
  source file and line number information in a stack trace. 
  <P>When invoking the Java compiler from the command line, use the 
  <CODE>-g</CODE> option to generate all debugging info. 
  <P>When invoking the Java compiler from an <A 
  href="http://jakarta.apache.org/ant/index.html">Ant</A> task, use the 
  <CODE>debug="on"</CODE> attribute. For example: 
  <BLOCKQUOTE><PRE>&lt;javac srcdir="${src}" destdir="${build}" debug="on" /&gt;
</PRE></BLOCKQUOTE>
  <P>When using older JVMs pre-Hotspot (JDK 1.1 and most/all 1.2), run JUnit 
  with the <CODE>-DJAVA_COMPILER=none</CODE> JMV command line argument to 
  prevent runtime JIT compilation from obscuring line number info. 
  <P>Compiling the test source with debug enabled will show the line where the 
  assertion failed. Compiling the non-test source with debug enabled will show 
  the line where an exception was raised in the class under test. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=running_13></A>Why does the "excluded.properties" trick not 
  work when running JUnit's GUI from inside my favorite IDE?</B> 
  <P><I>(Submitted by: William Pietri)</I> 
  <P>
  <P>Some IDEs come with a copy of JUnit, so your copy of JUnit in the project 
  classpath isn't the one being used. Replace the <CODE>junit.jar</CODE> file 
  used by the IDE with a <CODE>junit.jar</CODE> file containing a custom 
  <CODE>excluded.properties</CODE> and your bar will once again be green. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=running_14></A>How do I get one test suite to invoke 
  another?</B> 
  <P><I>(Submitted by: Eric Armstrong)</I> 
  <P>
  <P>To add a suite to a suite, use: 
  <BLOCKQUOTE><PRE>  suite.addTest(someOtherSuite.suite());
</PRE></BLOCKQUOTE>
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=running_15></A>How do I organize all test classes in a 
  TestSuite automatically and not use or manage a TestSuite explicitly?</B> 
  <P><I>(Submitted by: Bill de hra)</I> 
  <P>
  <P>There are a number of ways to do this: </P>
  <P><B>1.</B> In Ant, use the <CODE>junit</CODE> task and the 
  <CODE>batchtest</CODE> element: 
  <BLOCKQUOTE><PRE>&lt;junit printsummary="yes" haltonfailure="yes"&gt;
  ...
  &lt;batchtest fork="yes"&gt;
    &lt;fileset dir="${src.dir}"&gt;
       &lt;include name="**/*Test.java" /&gt;
       &lt;include name="**/Test*.java" /&gt;
    &lt;/fileset&gt;
  &lt;/batchtest&gt;
&lt;/junit&gt; 
</PRE></BLOCKQUOTE>Idiomatic naming patterns for unit tests are 
  <CODE>Test*.java</CODE> and <CODE>*Test.java</CODE>. Documentation and 
  examples are at <A 
  href="http://ant.apache.org/manual/OptionalTasks/junit.html">http://ant.apache.org/manual/OptionalTasks/junit.html</A>. 

  <P></P>
  <P><B>2.</B> Use the <CODE>DirectorySuiteBuilder</CODE> and 
  <CODE>ArchiveSuiteBuilder</CODE> (for jar/zip files) classes provided by 
  JUnit-addons project: 
  <BLOCKQUOTE><PRE>DirectorySuiteBuilder builder = new DirectorySuiteBuilder();
builder.setSuffix("Test");
Test suite = builer.suite("/home/project/myproject/tests"); 
</PRE></BLOCKQUOTE>Documentation and examples are at <A 
  href="http://junit-addons.sourceforge.net/">http://junit-addons.sourceforge.net/</A>. 

  <P></P>
  <P><B>3.</B> Write your own custom suite builder. </P>
  <P>Have your test classes implement an interface and write a treewalker to 
  load each class in a directory, inspect the class, and add any classes that 
  implement the interface to a TestSuite. </P>
  <P>You might only want to do this if you are <B>very</B> uncomfortable with 
  using a naming convention for test classes. Aside from being slow for larger 
  suites, ultimately it's arguable whether it's more effort to follow a naming 
  convention that have test classes implement an interface! </P>
  <P>An example of this approach is at <A 
  href="http://www.javaworld.com/javaworld/jw-12-2000/jw-1221-junit_p.html">http://www.javaworld.com/javaworld/jw-12-2000/jw-1221-junit_p.html</A>. 
  </P>
  <P></P>
  <HR SIZE=1>
  </LI></OL><!--	Best Practices-->
<TABLE cellSpacing=0 cellPadding=2 width="100%" bgColor=#33ff33 border=0>
  <TBODY>
  <TR>
    <TD align=left width="90%"><A name=best><B><FONT size=+1>Best 
      Practices:</FONT></B></A> </TD>
    <TD align=right><A 
      href="http://junit.sourceforge.net/doc/faq/faq.htm#toc">top</A> 
  </TD></TR></TBODY></TABLE>
<OL>
  <LI><B><A name=best_1></A>When should tests be written?</B> 
  <P>Tests should be written before the code. Test-first programming is 
  practiced by only writing new code when an automated test is failing. 
  <P>Good tests tell you how to best design the system for its intended use. 
  They effectively communicate in an executable format how to use the software. 
  They also prevent tendencies to over-build the system based on speculation. 
  When all the tests pass, you know you're done! 
  <P>Whenever a customer test fails or a bug is reported, first write the 
  necessary unit test(s) to expose the bug(s), <EM>then</EM> fix them. This 
  makes it almost impossible for that particular bug to resurface later. 
  <P>Test-driven development is a lot more fun than writing tests after the code 
  seems to be working. Give it a try! 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=best_2></A>Do I have to write a test for everything?</CODE></B> 

  <P>No, just test everything that could reasonably break. 
  <P>Be practical and maximize your testing investment. Remember that 
  investments in testing are equal investments in design. If defects aren't 
  being reported and your design responds well to change, then you're probably 
  testing enough. If you're spending a lot of time fixing defects and your 
  design is difficult to grow, you should write more tests. 
  <P>If something is difficult to test, it's usually an opportunity for a design 
  improvement. Look to improve the design so that it's easier to test, and by 
  doing so a better design will usually emerge. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=best_3></A>How simple is 'too simple to break'?</B> 
  <P><I>(Submitted by: J. B. Rainsberger)</I> 
  <P>The general philosophy is this: if it can't break <EM>on its own</EM>, it's 
  too simple to break. 
  <P>First example is the <CODE>getX()</CODE> method. Suppose the 
  <CODE>getX()</CODE> method only answers the value of an instance variable. In 
  that case, <CODE>getX()</CODE> cannot break unless either the compiler or the 
  interpreter is also broken. For that reason, don't test <CODE>getX()</CODE>; 
  there is no benefit. The same is true of the <CODE>setX()</CODE> method, 
  although if your <CODE>setX()</CODE> method does any parameter validation or 
  has any side effects, you likely need to test it. 
  <P>Next example: suppose you have written a method that does nothing but 
  forward parameters into a method called on another object. That method is too 
  simple to break. 
  <BLOCKQUOTE><PRE>public void myMethod(final int a, final String b) {
    myCollaborator.anotherMethod(a, b);
}
</PRE></BLOCKQUOTE><CODE>myMethod</CODE> cannot possibly break because it does 
  nothing: it forwards its input to another object and that's all. 
  <P>The only precondition for this method is "myCollaborator != null", but that 
  is generally the responsibility of the constructor, and not of myMethod. If 
  you are concerned, add a test to verify that myCollaborator is always set to 
  something non-null by every constructor. 
  <P>The only way myMethod could break would be if 
  <CODE>myCollaborator.anotherMethod()</CODE> were broken. In that case, test 
  <CODE>myCollaborator</CODE>, and not the current class. 
  <P>It is true that adding tests for even these simple methods guards against 
  the possibility that someone refactors and makes the methods "not-so-simple" 
  anymore. In that case, though, the refactorer needs to be aware that the 
  method is now complex enough to break, and should write tests for it -- and 
  preferably before the refactoring. 
  <P>Another example: suppose you have a JSP and, like a good programmer, you 
  have removed all business logic from it. All it does is provide a layout for a 
  number of JavaBeans and never does anything that could change the value of any 
  object. That JSP is too simple to break, and since JSPs are notoriously 
  annoying to test, you should strive to make all your JSPs too simple to break. 

  <P>Here's the way testing goes: 
  <BLOCKQUOTE><PRE>becomeTimidAndTestEverything
while writingTheSameThingOverAndOverAgain
    becomeMoreAggressive
    writeFewerTests
    writeTestsForMoreInterestingCases
    if getBurnedByStupidDefect
        feelStupid
        becomeTimidAndTestEverything
    end
end
</PRE></BLOCKQUOTE>The loop, as you can see, never terminates. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=best_4></A>How often should I run my tests?</CODE></B> 
  <P>Run all your unit tests as often as possible, ideally every time the code 
  is changed. Make sure all your unit tests always run at 100%. Frequent testing 
  gives you confidence that your changes didn't break anything and generally 
  lowers the stress of programming in the dark. 
  <P>For larger systems, you may just run specific test suites that are relevant 
  to the code you're working on. 
  <P>Run all your acceptance, integration, stress, and unit tests at least once 
  per day (or night). 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=best_5></A>What do I do when a defect is reported?</B> 
  <P>Test-driven development generally lowers the defect density of software. 
  But we're all fallible, so sometimes a defect will slip through. When this 
  happens, write a failing test that exposes the defect. When the test passes, 
  you know the defect is fixed! 
  <P>Don't forget to use this as a learning opportunity. Perhaps the defect 
  could have been prevented by being more aggressive about testing everything 
  that could reasonably break. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=best_6></A>Why not just use 
  <CODE>System.out.println()</CODE>?</B> 
  <P>Inserting debug statements into code is a low-tech method for debugging it. 
  It requires that output be scanned manually every time the program is run to 
  ensure that the code is doing what's expected. 
  <P>It generally takes less time in the long run to codify expectations in the 
  form of an automated JUnit test that retains its value over time. If it's 
  difficult to write a test to assert expectations, the tests may be telling you 
  that shorter and more cohesive methods would improve your design. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=best_7></A>Why not just use a debugger?</CODE></B> 
  <P>Debuggers are commonly used to step through code and inspect that the 
  variables along the way contain the expected values. But stepping through a 
  program in a debugger is a manual process that requires tedious visual 
  inspections. In essence, the debugging session is nothing more than a manual 
  check of expected vs. actual results. Moreover, every time the program changes 
  we must manually step back through the program in the debugger to ensure that 
  nothing broke. 
  <P>It generally takes less time to codify expectations in the form of an 
  automated JUnit test that retains its value over time. If it's difficult to 
  write a test to assert expected values, the tests may be telling you that 
  shorter and more cohesive methods would improve your design. 
  <P></P>
  <HR SIZE=1>
  </LI></OL><!--	JUnit Extensions-->
<TABLE cellSpacing=0 cellPadding=2 width="100%" bgColor=#33ff33 border=0>
  <TBODY>
  <TR>
    <TD align=left width="90%"><A name=extend><B><FONT size=+1>Extending 
      JUnit:</FONT></B></A> </TD>
    <TD align=right><A 
      href="http://junit.sourceforge.net/doc/faq/faq.htm#toc">top</A> 
  </TD></TR></TBODY></TABLE>
<OL>
  <LI><B><A name=extend_1></A>How do I extend JUnit?</B> 
  <P>JUnit is a testing framework intended to be customized for specialized use. 
  Browsing the JUnit source code is an excellent way to learn its design and 
  discover how it can be extended. 
  <P>Examples of JUnit extensions can be found in the 
  <CODE>junit.extensions</CODE> package: 
  <P>
  <UL>
    <LI><CODE>TestDecorator</CODE> 
    <P>A decorator for Tests. You can use it as the base class for implementing 
    new test decorators that add behavior before or after a test is run. </P>
    <LI><CODE>ActiveTestSuite</CODE> 
    <P>A <CODE>TestSuite</CODE> that runs each test in a separate thread and 
    waits until all threads have terminated. </P>
    <LI><CODE>TestSetup</CODE> 
    <P>A <CODE>TestDecorator</CODE> to initialize and cleanup test fixture state 
    once before the test is run. </P>
    <LI><CODE>RepeatedTest</CODE> 
    <P>A <CODE>TestDecorator</CODE> that runs a test repeatedly. </P>
    <LI><CODE>ExceptionTestCase</CODE> 
    <P>A <CODE>TestCase</CODE> that expects a particular <CODE>Exception</CODE> 
    to be thrown. 
    <P>Kent Beck has mentioned that <CODE>ExceptionTestCase</CODE> likely does 
    not provide enough to be useful; it is just as easy to write the "exception 
    test" yourself. Refer to the <A 
    href="http://junit.sourceforge.net/doc/faq/faq.htm#tests">"Writing 
    Tests"</A> section for guidance. </P></LI></UL>
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=extend_2></A>What kinds of extensions are available?</B> 
  <P>The JUnit home page has a complete list of available <A 
  href="http://www.junit.org/news/extension/index.htm">JUnit extensions</A>. 
  <P></P>
  <HR SIZE=1>
  </LI></OL><!--	Miscellaneous-->
<TABLE cellSpacing=0 cellPadding=2 width="100%" bgColor=#33ff33 border=0>
  <TBODY>
  <TR>
    <TD align=left width="90%"><A name=misc><B><FONT 
      size=+1>Miscellaneous:</FONT></B></A> </TD>
    <TD align=right><A 
      href="http://junit.sourceforge.net/doc/faq/faq.htm#toc">top</A> 
  </TD></TR></TBODY></TABLE>
<OL>
  <LI><B><A name=misc_1></A>How do I integrate JUnit with my IDE?</B> 
  <P>The JUnit home page maintains a list of <A 
  href="http://www.junit.org/news/ide/index.htm">IDE integration 
  instructions</A>. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=misc_2></A>How do I launch a debugger when a test fails?</B> 
  <P>Start the <CODE>TestRunner</CODE> under the debugger and configure the 
  debugger so that it catches the 
  <CODE>junit.framework.AssertionFailedError</CODE>. 
  <P>How you configure this depends on the debugger you prefer to use. Most Java 
  debuggers provide support to stop the program when a specific exception is 
  raised. 
  <P>Notice that this will only launch the debugger when an expected failure 
  occurs. 
  <P></P>
  <HR SIZE=1>

  <LI><B><A name=misc_3></A>Where can I find unit testing frameworks similar to 
  JUnit for other languages?</B> 
  <P>XProgramming.com maintains a complete list of available <A 
  href="http://www.xprogramming.com/software.htm">xUnit testing frameworks</A>. 
  <P></P>
  <HR SIZE=1>
  </LI></OL>
<TABLE cellSpacing=0 cellPadding=2 width="100%" bgColor=#33ff33 border=0>
  <TBODY>
  <TR>
    <TD align=right><A 
      href="http://junit.sourceforge.net/doc/faq/faq.htm#toc">top</A> 
  </TD></TR></TBODY></TABLE></BODY></HTML>
